(function(){var t=[].slice;window.FileSystem=function(){function e(t){this._name=""+t||"undefined",this._getFilesystemObject(),this._cwd=FileSystem.prototype.pathSeparator}var o;return e.prototype.pathSeparator="/",e.prototype.escapeCharacter="\\",e.prototype._cache={},e.prototype._storageName=function(){return""+this._name+"_filesystem"},e.prototype._getFilesystemObject=function(){var t;return FileSystem.prototype._cache.hasOwnProperty(this._name)?FileSystem.prototype._cache[this._name]:(t=localStorage.getItem(this._storageName()),null===t&&localStorage.setItem(this._name,JSON.stringify(t={})),FileSystem.prototype._cache[this._name]=t)},e.prototype.getName=function(){return this._name},e.prototype.getCwd=function(){return this._cwd},e.prototype._changeFileSystem=function(t){var e,o,r;r=this._getFilesystemObject(),e=JSON.stringify(r);try{return t(r),localStorage.setItem(this._storageName(),JSON.stringify(r))}catch(a){throw o=a,this._cache[this._name]=JSON.parse(e),o}},o=function(){var e,o,r,a,i,n,p;for(a=arguments[0],i=2<=arguments.length?t.call(arguments,1):[],r="";a.length>0;){for(e=!1,o=n=0,p=i.length-1;p>n;o=n+=2)if(a.slice(0,i[o].length)===i[o]){r+=i[o+1],a=a.slice(i[o].length),e=!0;break}e||(r+=a[0],a=a.slice(1))}return r},e.prototype._splitPath=function(t){var e,r,a,i,n,p,s,l;for(i=FileSystem.prototype.pathSeparator,r=FileSystem.prototype.escapeCharacter,a=t.indexOf(i+i);a>-1;)t=t.slice(0,a)+t.slice(a+i.length),a=t.indexOf(i+i);for(t.slice(0,i.length)===i&&(t=t.slice(i.length)),t.slice(-i.length)===i&&(t=t.slice(0,-i.length)),s=o(t,r+i,i,r+r,r,i,"\n").split("\n"),l=[],n=0,p=s.length;p>n;n++)e=s[n],""!==e&&l.push(e);return l},e.prototype._joinPath=function(t){var e,r,a;return a=FileSystem.prototype.pathSeparator,e=FileSystem.prototype.escapeCharacter,function(){var i,n,p;for(p=[],i=0,n=t.length;n>i;i++)r=t[i],p.push(o(r,a,e+a,e,e+e));return p}().join(a)},e.prototype._toAbsolutePath=function(t,e){var o,r;return o=FileSystem.prototype._joinPath(FileSystem.prototype._splitPath(t).concat(FileSystem.prototype._splitPath(e))),r=FileSystem.prototype.pathSeparator,o.slice(0,r.length)!==r&&(o=r+o),o},e.prototype._toCanonicalPath=function(t){var e,o,r,a,i,n;for(e=[],n=FileSystem.prototype._splitPath(t),a=0,i=n.length;i>a;a++)r=n[a],"."!==r&&(".."===r?e.length>0&&e.pop():e.push(r));return e=FileSystem.prototype._joinPath(e),o=FileSystem.prototype.pathSeparator,e.slice(0,o.length)!==o&&(e=o+e),e},e.prototype._isValidCanonicalPath=function(t){var e,o,r,a,i;for(e=FileSystem.prototype._splitPath(t),r=this._getFilesystemObject(),a=0,i=e.length;i>a;a++)if(o=e[a],r=r[o],!r||r instanceof Array)return!1;return!0},e.prototype.cd=function(t){var e,o;return null==t&&(t=FileSystem.prototype.pathSeparator),o=FileSystem.prototype.pathSeparator,e=t.slice(0,+o.length+1||9e9)===o?t:FileSystem.prototype._toAbsolutePath(this._cwd,t),e=FileSystem.prototype._toCanonicalPath(e),this._isValidCanonicalPath(e)?this._cwd=e:void 0},e}()}).call(this);
//# sourceMappingURL=jsfs.min.js.map