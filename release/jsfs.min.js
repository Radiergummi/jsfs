(function(){var t=[].slice;window.FileSystem=function(){function e(t){this._name=""+t||"undefined",this._getFilesystemObject(),this._cwd=FileSystem.prototype.pathSeparator}var o;return e.prototype.pathSeparator="/",e.prototype.escapeCharacter="\\",e.prototype._cache={},e.prototype._storageName=function(){return""+this._name+"_filesystem"},e.prototype._getFilesystemObject=function(){var t;return FileSystem.prototype._cache.hasOwnProperty(this._name)?FileSystem.prototype._cache[this._name]:(t=localStorage.getItem(this._storageName()),null===t&&localStorage.setItem(this._name,JSON.stringify(t={})),FileSystem.prototype._cache[this._name]=t)},e.prototype.getName=function(){return this._name},e.prototype.getCwd=function(){return this._cwd},e.prototype._changeFileSystem=function(t){var e,o,r;r=this._getFilesystemObject(),e=JSON.stringify(r);try{return t(r),localStorage.setItem(this._storageName(),JSON.stringify(r))}catch(i){throw o=i,this._cache[this._name]=JSON.parse(e),o}},o=function(){var e,o,r,i,a,n,p;for(i=arguments[0],a=2<=arguments.length?t.call(arguments,1):[],r="";i.length>0;){for(e=!1,o=n=0,p=a.length-1;p>n;o=n+=2)if(i.slice(0,a[o].length)===a[o]){r+=a[o+1],i=i.slice(a[o].length),e=!0;break}e||(r+=i[0],i=i.slice(1))}return r},e.prototype._splitPath=function(t){var e,r,i,a,n,p,s,l;for(a=FileSystem.prototype.pathSeparator,r=FileSystem.prototype.escapeCharacter,i=t.indexOf(a+a);i>-1;)t=t.slice(0,i)+t.slice(i+a.length),i=t.indexOf(a+a);for(t.slice(0,a.length)===a&&(t=t.slice(a.length)),t.slice(-a.length)===a&&(t=t.slice(0,-a.length)),s=o(t,r+a,a,r+r,r,a,"\n").split("\n"),l=[],n=0,p=s.length;p>n;n++)e=s[n],""!==e&&l.push(e);return l},e.prototype._joinPath=function(t){var e,r,i;return i=FileSystem.prototype.pathSeparator,e=FileSystem.prototype.escapeCharacter,function(){var a,n,p;for(p=[],a=0,n=t.length;n>a;a++)r=t[a],p.push(o(r,i,e+i,e,e+e));return p}().join(i)},e.prototype._toAbsolutePath=function(t,e){var o,r;return r=FileSystem.prototype.pathSeparator,e.slice(0,r.length)===r?e:(o=FileSystem.prototype._joinPath(FileSystem.prototype._splitPath(t).concat(FileSystem.prototype._splitPath(e))),o.slice(0,r.length)!==r&&(o=r+o),o)},e.prototype._toCanonicalPath=function(t){var e,o,r,i,a,n;for(e=[],n=FileSystem.prototype._splitPath(t),i=0,a=n.length;a>i;i++)r=n[i],"."!==r&&(".."===r?e.length>0&&e.pop():e.push(r));return e=FileSystem.prototype._joinPath(e),o=FileSystem.prototype.pathSeparator,e.slice(0,o.length)!==o&&(e=o+e),e},e.prototype._isValidCanonicalPath=function(t){var e,o,r,i,a;for(e=FileSystem.prototype._splitPath(t),r=this._getFilesystemObject(),i=0,a=e.length;a>i;i++)if(o=e[i],r=r[o],!r||r instanceof Array)return!1;return!0},e.prototype.cd=function(t){var e;return null==t&&(t=FileSystem.prototype.pathSeparator),e=FileSystem.prototype._toCanonicalPath(FileSystem.prototype._toAbsolutePath(this._cwd,t)),this._isValidCanonicalPath(e)?this._cwd=e:void 0},e}()}).call(this);
//# sourceMappingURL=jsfs.min.js.map