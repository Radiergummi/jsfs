(function(){var t=[].slice;window.FileSystem=function(){function e(t){this._name=""+t||"undefined",this._getFilesystemObject(),this._cwd=FileSystem.prototype.pathSeparator}var o;return e.prototype.pathSeparator="/",e.prototype.escapeCharacter="\\",e.prototype._cache={},e.prototype._storageName=function(){return""+this._name+"_filesystem"},e.prototype._getFilesystemObject=function(){var t;return FileSystem.prototype._cache.hasOwnProperty(this._name)?FileSystem.prototype._cache[this._name]:(t=localStorage.getItem(this._storageName()),null===t&&localStorage.setItem(this._name,JSON.stringify(t={})),FileSystem.prototype._cache[this._name]=t)},e.prototype.getName=function(){return this._name},e.prototype.getCwd=function(){return this._cwd},e.prototype._changeFilesystem=function(t){var e,o,r;r=this._getFilesystemObject(),e=JSON.stringify(r);try{return t(r),localStorage.setItem(this._storageName(),JSON.stringify(r))}catch(i){throw o=i,this._cache[this._name]=JSON.parse(e),o}},o=function(){var e,o,r,i,n,a,p;for(i=arguments[0],n=2<=arguments.length?t.call(arguments,1):[],r="";i.length>0;){for(e=!1,o=a=0,p=n.length-1;p>a;o=a+=2)if(i.slice(0,n[o].length)===n[o]){r+=n[o+1],i=i.slice(n[o].length),e=!0;break}e||(r+=i[0],i=i.slice(1))}return r},e.prototype._splitPath=function(t){var e,r,i,n,a,p,s,l;for(n=FileSystem.prototype.pathSeparator,r=FileSystem.prototype.escapeCharacter,i=t.indexOf(n+n);i>-1;)t=t.slice(0,i)+t.slice(i+n.length),i=t.indexOf(n+n);for(t.slice(0,n.length)===n&&(t=t.slice(n.length)),t.slice(-n.length)===n&&(t=t.slice(0,-n.length)),s=o(t,r+n,n,r+r,r,n,"\n").split("\n"),l=[],a=0,p=s.length;p>a;a++)e=s[a],""!==e&&l.push(e);return l},e.prototype._joinPath=function(t){var e,r,i;return i=FileSystem.prototype.pathSeparator,e=FileSystem.prototype.escapeCharacter,function(){var n,a,p;for(p=[],n=0,a=t.length;a>n;n++)r=t[n],p.push(o(r,i,e+i,e,e+e));return p}().join(i)},e.prototype._toAbsolutePath=function(t,e){var o,r;return r=FileSystem.prototype.pathSeparator,e.slice(0,r.length)===r?e:(o=FileSystem.prototype._joinPath(FileSystem.prototype._splitPath(t).concat(FileSystem.prototype._splitPath(e))),o.slice(0,r.length)!==r&&(o=r+o),o)},e.prototype._toCanonicalPath=function(t){var e,o,r,i,n,a;for(e=[],a=FileSystem.prototype._splitPath(t),i=0,n=a.length;n>i;i++)r=a[i],"."!==r&&(".."===r?e.length>0&&e.pop():e.push(r));return e=FileSystem.prototype._joinPath(e),o=FileSystem.prototype.pathSeparator,e.slice(0,o.length)!==o&&(e=o+e),e},e.prototype._isValidCanonicalPath=function(t){var e,o,r,i,n;for(e=FileSystem.prototype._splitPath(t),r=this._getFilesystemObject(),i=0,n=e.length;n>i;i++)if(o=e[i],r=r[o],!r||r instanceof Array)return!1;return!0},e.prototype.cd=function(t){var e;return null==t&&(t=FileSystem.prototype.pathSeparator),e=FileSystem.prototype._toCanonicalPath(FileSystem.prototype._toAbsolutePath(this._cwd,t)),this._isValidCanonicalPath(e)?this._cwd=e:void 0},e.prototype.mkdir=function(t){var e,o,r;null==t&&(t="."),r=FileSystem.prototype._splitPath(FileSystem.prototype._toCanonicalPath(FileSystem.prototype._toAbsolutePath(this._cwd,t)));try{return o=!1,this._changeFilesystem(function(t){var e,i,n,a;for(a=[],i=0,n=r.length;n>i;i++)e=r[i],t.hasOwnProperty(e)||(t[e]={},o=!0),a.push(t=t[e]);return a}),o}catch(i){return e=i,!1}},e}()}).call(this);
//# sourceMappingURL=jsfs.min.js.map